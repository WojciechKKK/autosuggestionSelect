(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{20:function(n,e,t){n.exports=t(28)},28:function(n,e,t){"use strict";t.r(e);var r,a,o,i=t(0),c=t.n(i),l=t(15),u=t.n(l),s=(t(3),t(5)),d=t(1),f=t(2),p=f.a.p(r||(r=Object(d.a)(["\n  color: var(--text-color);\n  padding: var(--padding-input-emelents);\n  display: inline-block\n"]))),b=f.a.a(a||(a=Object(d.a)(["\n  padding: var(--padding-dropdown-elements);\n  margin: 0 5px;\n  background: var(--text-color);\n  color: var(--text-color-white);\n  border-radius: 5px;\n"]))),v=f.a.p(o||(o=Object(d.a)(["\n  padding: 0 5px;\n  color: var(--text-color);\n  display: inline-block;\n  align-items: center;\n"]))),m=function(n){var e=n.isExpandList,t=n.iconColor;return c.a.createElement(v,null,c.a.createElement("i",{style:{iconColor:t},className:e?"fas fa-angle-up":"fas fa-angle-down"}))};m.defaultProps={iconColor:"black"};var h,g,E,O,j,x,k=m,w=f.a.div(h||(h=Object(d.a)(["\n  border-radius: var(--global-border-radius);\n  box-shadow: 0 0 10px grey;\n  margin: 10px 0;\n  width: var(--button-width);\n  cursor: pointer;\n  text-align: center;\n  &:hover {\n    background: var(--dropdown-background-hover);\n  };\n    ","\n"])),(function(n){return n.isExpandList&&"\n      position: relative;\n  "})),C=function(n){var e=n.title,t=n.isExpandList,r=n.items,a=n.fnClick;return c.a.createElement(w,{isExpandList:t,onClick:function(){return a()}},c.a.createElement(p,null,e),c.a.createElement(b,null,r),c.a.createElement(k,{isExpandList:t}))},y=f.a.i(g||(g=Object(d.a)(["\n  color: var(--icon-spinner-color);\n  font-size: var(--icon-font-size);\n  padding: var(--icon-padding);\n"]))),z=function(){return c.a.createElement(y,{className:"fas fa-spinner fa-spin"})},L=f.a.i(E||(E=Object(d.a)(["\n  display: inline-block;\n  padding: var(--icon-padding);\n  color: var(--icon-delete-color);\n  font-size: var(--icon-font-size);\n  cursor: pointer;\n  &:hover{\n    color: var(--icon-error-color)\n  }\n "]))),S=function(n){var e=n.fnClearInput;return c.a.createElement(L,{onClick:e,className:"fa fa-trash"})},F=t(4),I=f.a.p(O||(O=Object(d.a)(["\n  color: var( --icon-error-color);\n  font-size: var(--error-font-size);\n  padding: 0px;\n  margin: 0px;\n  position: absolute;\n  bottom: 15px;\n  padding-left: var(--input-padding)\n  "]))),N=function(){return c.a.createElement(I,null,F.inputError)},P=f.a.div(j||(j=Object(d.a)(["\n  padding: calc(var(--dropdown-padding-element) *2) var(--dropdown-padding-element);\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n  justify-content: space-between;\n  position: relative;\n  box-shadow: 0 4px 20px -4px grey;\n"]))),U=f.a.input(x||(x=Object(d.a)(["\n  width: 75%;\n  font-size: var(--input-font-size);\n  padding: var(--input-padding);\n  border-radius: var(--input-border-radius);\n  border: var(--input-border);\n  outline: none;\n  border-radius: var(--global-border-radius);\n  ::placeholder {\n    color: var(--input-placeholder);\n  }\n  &:focus {\n    border: var(--input-border-focus);\n  }\n"]))),A=function(n){var e=n.value,t=n.fnOnChange,r=n.visibleError,a=n.loader,o=n.fnClearInput;return c.a.createElement(P,null,c.a.createElement(U,{type:"text",name:"universities",value:e,placeholder:F.inputPlaceholder,autoComplete:"off",onChange:function(n){return t(n.target.value)}}),a?c.a.createElement(z,null):c.a.createElement(S,{fnClearInput:o}),r&&c.a.createElement(N,null))},R=function(n){var e=n.iconColor;return c.a.createElement("i",{className:"fas fa-check",style:{color:e}})};R.defaultProps={iconColor:"green"};var V,J,T,M,B=R,q=f.a.div(V||(V=Object(d.a)(["\n  width: 100%;\n  padding: 20px 0px;\n  border-bottom: var(--dropdown-border-element);\n  font-size: var(--input-font-size);\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  cursor: pointer;\n  word-break: break-word;\n  ","\n  &:hover {\n    color: var(--university-text-hover)\n  }\n\n"])),(function(n){return n.isChecked&&"\n    font-weight: var(--font-weight-bold);\n  "})),D=function(n){var e=n.details,t=n.fnClick,r=e.isChecked;return c.a.createElement(q,{onClick:function(){return t(e)},isChecked:r},null===e||void 0===e?void 0:e.name,r&&c.a.createElement(B,null))},G=f.a.div(J||(J=Object(d.a)(["\n  padding: var(--dropdown-padding-element);\n  padding-top: 0;\n  max-height: var(--dropdown-height);\n  overflow: auto\n"]))),H=function(n){var e=n.list,t=n.fnAddToUserList;return e.length?c.a.createElement(G,null,e.map((function(n){return c.a.createElement(D,{key:n.name,details:n,fnClick:t})}))):null},K=f.a.button(T||(T=Object(d.a)(["\n  width: 100%;\n  border: none;\n  padding: var(--button-padding);\n  background: var(--button-background-color);\n  color: var(--button-text-color);\n  font-size: var(--button-font-size);\n  cursor: pointer;\n  border-bottom-left-radius: var(--global-border-radius);\n  border-bottom-right-radius: var(--global-border-radius);\n  &:hover {\n    background: var(--button-background-color-hover)\n  }\n"]))),Q=function(n){var e=n.fnClick;return n.visible?c.a.createElement(K,{onClick:e},F.buttonReset):null},W=function(n,e){return n.length?n.filter((function(n){var t=n.name,r=n.isChecked;return t!==e&&r})):[]},X=t(12),Y=function(n){return!!Array.isArray(n)&&n.every((function(n){return n.hasOwnProperty("name")}))},Z=function(n,e){var t=[];return Y(n)&&Y(e)?([].concat(Object(X.a)(n),Object(X.a)(e)).forEach((function(n){t.map((function(n){return n.name})).includes(n.name)||t.push(n)})),t):(console.error("Failed with remove duplication"),t)},$=t(6),_=function(n,e){return n.map((function(n){return n.name===e?Object($.a)(Object($.a)({},n),{},{isChecked:!n.isChecked}):n}))},nn=function(n,e){return n.map((function(n){return e.map((function(n){return n.name})).includes(n.name)?e.filter((function(e){return e.name===n.name}))[0]:n})).filter((function(n){return n.isChecked}))},en=t(11),tn=t.n(en),rn=t(19),an=function(n,e){return n.length?n.map((function(n){return e.map((function(n){return n.name})).includes(n.name)?Object($.a)(Object($.a)({},n),{},{isChecked:!0}):Object($.a)(Object($.a)({},n),{},{isChecked:!1})})):[]},on=function(n,e,t){var r=Object(i.useState)(!1),a=Object(s.a)(r,2),o=a[0],c=a[1],l=Object(i.useState)([]),u=Object(s.a)(l,2),d=u[0],f=u[1],p=Object(i.useState)(!1),b=Object(s.a)(p,2),v=b[0],m=b[1];function h(){return(h=Object(rn.a)(tn.a.mark((function e(){var r,a;return tn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,fetch("".concat("http://universities.hipolabs.com/search?name=").concat(t));case 4:return r=e.sent,e.next=7,r.json();case 7:(a=e.sent).length?f(an(a,n)):alert("'".concat(t,"' ").concat(F.notFound)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(F.failedFetch,e.t0);case 14:return e.prev=14,m(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}return Object(i.useEffect)((function(){t.length>3?(c(!1),function(){h.apply(this,arguments)}()):(c(""!==t),e([]))}),[t]),{universities:d,loader:v,visibleError:o}},cn=f.a.div(M||(M=Object(d.a)(["\n  border-radius: var(--global-border-radius);\n  transition: 0.25s ease all;\n  transform: scale(0);\n  transform-origin: 0 1;\n  box-shadow: var(--dropdown-box-shadow);\n  width: var(--dropdown-width);\n  ","\n"])),(function(n){return n.isVisible&&"\n    transform: scale(1);\n  "})),ln=function(n){var e=n.isVisible,t=n.fnSetCounter,r=Object(i.useState)(""),a=Object(s.a)(r,2),o=a[0],l=a[1],u=Object(i.useState)([]),d=Object(s.a)(u,2),f=d[0],p=d[1],b=Object(i.useState)([]),v=Object(s.a)(b,2),m=v[0],h=v[1],g=on(f,h,o),E=g.universities,O=g.loader,j=g.visibleError;Object(i.useEffect)((function(){h(E)}),[E]);return c.a.createElement(cn,{isVisible:e},c.a.createElement(A,{value:o,fnOnChange:l,visibleError:j,loader:O,fnClearInput:function(){return l("")}}),c.a.createElement(H,{list:m.length?m:f,fnAddToUserList:function(n){if(m.length){var e=_(m,n.name),r=e.filter((function(n){return n.isChecked})),a=nn(f,e),o=Z(a,r);h(e),p(o),t(o.length),console.log("Update",o)}else{var i=W(f,n.name);t(i.length),p(i),console.log("Update",i)}}}),c.a.createElement(Q,{fnClick:function(){h([]),p([]),t(0),console.log("Update",[])},visible:!!m.length||!!f.length}))};var un,sn=function(n){var e,t,r=n.children,a=n.fnClick,o=Object(i.useRef)(null);return e=o,t=a,Object(i.useEffect)((function(){function n(n){e.current&&!e.current.contains(n.target)&&t(!1)}return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[e]),c.a.createElement("div",{ref:o},r)},dn=f.a.div(un||(un=Object(d.a)(["\n  position absolute;\n  top: 25px;\n  left: 30vw;\n  @media (max-width: 768px) {\n    left: 4vw;\n  }\n"]))),fn=function(){var n=Object(i.useState)(!1),e=Object(s.a)(n,2),t=e[0],r=e[1],a=Object(i.useState)(0),o=Object(s.a)(a,2),l=o[0],u=o[1];Object(i.useEffect)((function(){return document.addEventListener("keydown",d,!1),function(){document.removeEventListener("keydown",d,!1)}}),[]);var d=function(n){"Escape"===n.key&&r(!1)};return c.a.createElement(sn,{fnClick:r},c.a.createElement(dn,null,c.a.createElement(C,{title:F.title,isExpandList:t,items:l,fnClick:function(){return r((function(n){return!n}))}}),c.a.createElement(ln,{isVisible:t,fnSetCounter:u})))},pn=function(){return c.a.createElement("div",{className:"app"},c.a.createElement(fn,null))};u.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(pn,null)),document.getElementById("root"))},3:function(n,e,t){},4:function(n){n.exports=JSON.parse('{"title":"Universities","buttonReset":"Reset","inputError":"Min 3 characters","inputPlaceholder":"Type university...","failedFetch":"Failed API fetch","notFound":"not found :("}')}},[[20,1,2]]]);
//# sourceMappingURL=main.d8ace916.chunk.js.map